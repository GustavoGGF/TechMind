{"ast":null,"code":"import { UtilitiesModule } from '../../utilities/utilities.module';\nimport { CommonModule } from '@angular/common';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { catchError, throwError } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../../utilities/chart-pie/chart-pie.component\";\nimport * as i3 from \"../../utilities/loading/loading.component\";\nimport * as i4 from \"../../utilities/message/message.component\";\nimport * as i5 from \"../../utilities/navbar/navbar.component\";\nimport * as i6 from \"../../utilities/chart-spline-line/chart-spline-line.component\";\nimport * as i7 from \"@angular/common\";\nfunction HomeComponent_app_navbar_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-navbar\", 4);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"name\", ctx_r0.name)(\"home_class\", ctx_r0.home_class)(\"computers_class\", ctx_r0.computers_class)(\"device_class\", ctx_r0.device_class);\n  }\n}\nfunction HomeComponent_app_loading_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading\");\n  }\n}\nfunction HomeComponent_app_message_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-message\", 5);\n    i0.ɵɵlistener(\"click\", function HomeComponent_app_message_3_Template_app_message_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.hideMessage());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"errorType\", ctx_r0.errorType)(\"messageError\", ctx_r0.messageError);\n  }\n}\nfunction HomeComponent_div_4_app_loading_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading\");\n  }\n}\nfunction HomeComponent_div_4_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.totalMachines);\n  }\n}\nfunction HomeComponent_div_4_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"M\\u00E1quinas\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_div_4_app_loading_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading\");\n  }\n}\nfunction HomeComponent_div_4_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.totalWindows);\n  }\n}\nfunction HomeComponent_div_4_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Windows\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_div_4_app_loading_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading\");\n  }\n}\nfunction HomeComponent_div_4_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.totalUnix);\n  }\n}\nfunction HomeComponent_div_4_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Unix\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 6)(2, \"div\", 7);\n    i0.ɵɵtemplate(3, HomeComponent_div_4_app_loading_3_Template, 1, 0, \"app-loading\", 2)(4, HomeComponent_div_4_span_4_Template, 2, 1, \"span\", 2)(5, HomeComponent_div_4_span_5_Template, 2, 0, \"span\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 7);\n    i0.ɵɵtemplate(7, HomeComponent_div_4_app_loading_7_Template, 1, 0, \"app-loading\", 2)(8, HomeComponent_div_4_span_8_Template, 2, 1, \"span\", 2)(9, HomeComponent_div_4_span_9_Template, 2, 0, \"span\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 7);\n    i0.ɵɵtemplate(11, HomeComponent_div_4_app_loading_11_Template, 1, 0, \"app-loading\", 2)(12, HomeComponent_div_4_span_12_Template, 2, 1, \"span\", 2)(13, HomeComponent_div_4_span_13_Template, 2, 0, \"span\", 2);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\");\n    i0.ɵɵelement(15, \"app-chart-pie\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\");\n    i0.ɵɵelement(17, \"app-chart-spline-line\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.notData);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.notData);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.notData);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.notData);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.notData);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.notData);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.notData);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.notData);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.notData);\n  }\n}\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(http) {\n      this.http = http;\n      this.computers_class = '';\n      this.device_class = '';\n      this.errorType = '';\n      this.home_class = 'active';\n      this.messageError = '';\n      this.message = '';\n      this.canView = false;\n      this.notData = true;\n      this.showMessage = false;\n      this.totalMachines = 0;\n      this.totalWindows = 0;\n      this.totalUnix = 0;\n    }\n    ngOnInit() {\n      this.name = localStorage.getItem('name');\n      if (this.name.length == 0 || this.name == null) {\n        this.errorType = 'Falta de Dados';\n        this.messageError = 'Ouve um erro ao acessar dados do LDAP, contatar a TI';\n        this.showMessage = true;\n      } else {\n        this.canView = true;\n        this.startPolling();\n      }\n    }\n    ngAfterViewInit() {}\n    hideMessage() {\n      this.showMessage = false;\n    }\n    getData() {\n      this.http.get('/home/get-Info-Main-Panel/', {}).pipe(catchError(error => {\n        this.status = error.status;\n        return throwError(error);\n      })).subscribe(data => {\n        if (data) {\n          this.totalWindows = data.windows;\n          this.totalMachines = data.total;\n          this.totalUnix = data.unix;\n          this.notData = false;\n          this.verifyColorPie();\n        }\n      });\n    }\n    startPolling() {\n      this.getData();\n      setInterval(() => {\n        this.getData();\n      }, 60000);\n    }\n    verifyColorPie() {\n      const legendTextElements = document.getElementsByClassName('apexcharts-legend-text');\n      Array.from(legendTextElements).forEach(element => {\n        if (element instanceof HTMLElement) {\n          element.style.setProperty('color', 'yellow', 'important');\n        }\n      });\n      Array.from(legendTextElements).forEach(element => {\n        if (element instanceof HTMLElement) {\n          const color = window.getComputedStyle(element).color;\n          if (color !== 'rgb(255, 255, 0)') {\n            this.verifyColorPie();\n          } else {\n            console.log('pie foi');\n          }\n        }\n      });\n    }\n    static #_ = this.ɵfac = function HomeComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || HomeComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n    };\n    static #_2 = this.ɵcmp = i0.ɵɵdefineComponent({\n      type: HomeComponent,\n      selectors: [[\"app-home\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 5,\n      vars: 4,\n      consts: [[1, \"main\"], [3, \"name\", \"home_class\", \"computers_class\", \"device_class\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"errorType\", \"messageError\", \"click\", 4, \"ngIf\"], [3, \"name\", \"home_class\", \"computers_class\", \"device_class\"], [3, \"click\", \"errorType\", \"messageError\"], [1, \"maindash\"], [1, \"containers\"]],\n      template: function HomeComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, HomeComponent_app_navbar_1_Template, 1, 4, \"app-navbar\", 1)(2, HomeComponent_app_loading_2_Template, 1, 0, \"app-loading\", 2)(3, HomeComponent_app_message_3_Template, 1, 2, \"app-message\", 3)(4, HomeComponent_div_4_Template, 18, 9, \"div\", 2);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.canView);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.canView);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showMessage);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.canView);\n        }\n      },\n      dependencies: [UtilitiesModule, i2.ChartPieComponent, i3.LoadingComponent, i4.MessageComponent, i5.NavbarComponent, i6.ChartSplineLineComponent, CommonModule, i7.NgIf, HttpClientModule],\n      styles: [\".main[_ngcontent-%COMP%]{background-color:var(--black)}.containers[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-content:center;text-align:center;font-size:1.4em;font-weight:700;margin:1em;background-color:var(--gray);width:10em;height:4em;cursor:pointer}.maindash[_ngcontent-%COMP%]{background-color:var(--white);margin:3em 1em 1em;display:flex;justify-content:space-between;color:var(--white);border-radius:1em}.apexcharts-legend[_ngcontent-%COMP%], .apexcharts-text[_ngcontent-%COMP%]{color:#fff!important}\"]\n    });\n  }\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}