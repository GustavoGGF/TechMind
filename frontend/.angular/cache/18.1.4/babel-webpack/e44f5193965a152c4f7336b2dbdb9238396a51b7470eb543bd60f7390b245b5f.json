{"ast":null,"code":"import { ActivatedRoute } from '@angular/router';\nimport { UtilitiesModule } from '../../utilities/utilities.module';\nimport { CommonModule } from '@angular/common';\nimport { HttpClient, HttpClientModule, HttpHeaders } from '@angular/common/http';\nimport { catchError, throwError } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"../../utilities/navbar/navbar.component\";\nimport * as i4 from \"@angular/common\";\nfunction DevicesDetailsComponent_app_navbar_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-navbar\", 6);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"name\", ctx_r0.name)(\"home_class\", ctx_r0.home_class)(\"computers_class\", ctx_r0.computers_class)(\"device_class\", ctx_r0.device_class);\n  }\n}\nfunction DevicesDetailsComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"div\", 9)(3, \"span\")(4, \"b\", 9);\n    i0.ɵɵtext(5, \"Equipamento:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\")(8, \"span\")(9, \"b\", 9);\n    i0.ɵɵtext(10, \"Marca:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\")(13, \"span\")(14, \"b\", 9);\n    i0.ɵɵtext(15, \"Modelo:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\")(18, \"span\")(19, \"b\", 9);\n    i0.ɵɵtext(20, \"Serial Number:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\")(23, \"span\")(24, \"b\", 9);\n    i0.ɵɵtext(25, \"Imob:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"div\")(28, \"span\")(29, \"b\", 9);\n    i0.ɵɵtext(30, \"Status:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"a\", 10);\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(33, \"div\");\n    i0.ɵɵelement(34, \"img\", 11);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r0.equip);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.brand);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.model_device);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.sn);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.imob);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"href\", ctx_r0.url_linked_device, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.linked);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r0.img_url, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction DevicesDetailsComponent_div_8_div_36_option_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"option\", 28);\n    i0.ɵɵlistener(\"click\", function DevicesDetailsComponent_div_8_div_36_option_2_Template_option_click_0_listener() {\n      const i_r4 = i0.ɵɵrestoreView(_r3).index;\n      const ctx_r0 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r0.onRowClick(i_r4));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const names_r5 = ctx.$implicit;\n    const i_r4 = ctx.index;\n    i0.ɵɵproperty(\"value\", i_r4);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", names_r5, \" \");\n  }\n}\nfunction DevicesDetailsComponent_div_8_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"select\", 26);\n    i0.ɵɵtemplate(2, DevicesDetailsComponent_div_8_div_36_option_2_Template, 2, 2, \"option\", 27);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.machines_Names);\n  }\n}\nfunction DevicesDetailsComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"div\", 12)(3, \"img\", 13);\n    i0.ɵɵlistener(\"click\", function DevicesDetailsComponent_div_8_Template_img_click_3_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.closeModify());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 14)(5, \"span\")(6, \"b\", 9);\n    i0.ɵɵtext(7, \"Equipamento:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 15)(10, \"input\", 16);\n    i0.ɵɵlistener(\"input\", function DevicesDetailsComponent_div_8_Template_input_input_10_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.getBrand($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"label\", 17);\n    i0.ɵɵtext(12, \"Marca\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 15)(14, \"input\", 18);\n    i0.ɵɵlistener(\"input\", function DevicesDetailsComponent_div_8_Template_input_input_14_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.getModel($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"label\", 19);\n    i0.ɵɵtext(16, \"Modelo\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 20)(18, \"span\")(19, \"b\", 9);\n    i0.ɵɵtext(20, \"Serial Number:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 20)(23, \"span\")(24, \"b\", 9);\n    i0.ɵɵtext(25, \"Imob:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"div\", 21)(28, \"span\")(29, \"b\");\n    i0.ɵɵtext(30, \"Status:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"select\", 22);\n    i0.ɵɵlistener(\"change\", function DevicesDetailsComponent_div_8_Template_select_change_31_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.getStatus($event));\n    });\n    i0.ɵɵelementStart(32, \"option\", 23);\n    i0.ɵɵtext(33, \"Alterar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"option\", 24);\n    i0.ɵɵtext(35, \"Em uso\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(36, DevicesDetailsComponent_div_8_div_36_Template, 3, 1, \"div\", 25);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", ctx_r0.img_close, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.equip);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"placeholder\", ctx_r0.brand);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"placeholder\", ctx_r0.model_device);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r0.sn);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.imob);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.canViewStatus);\n  }\n}\nexport let DevicesDetailsComponent = /*#__PURE__*/(() => {\n  class DevicesDetailsComponent {\n    constructor(route, http) {\n      this.route = route;\n      this.http = http;\n      this.brand = '';\n      this.computers_class = '';\n      this.device_class = 'active';\n      this.equip = '';\n      this.home_class = '';\n      this.img_close = '/static/assets/images/fechar.png';\n      this.img_config = '/static/assets/images/devices/configuracao.png';\n      this.img_url = '';\n      this.imob = '';\n      this.input_brand = '';\n      this.input_model = '';\n      this.linked = '';\n      this.mac = '';\n      this.model_device = '';\n      this.select_value = '';\n      this.sn = '';\n      this.token = '';\n      this.url_linked_device = '';\n      this.canView = false;\n      this.canViewDetails = true;\n      this.canViewModify = false;\n      this.canViewStatus = false;\n      this.device = [];\n      this.machines = [];\n      this.machines_Names = [];\n    }\n    ngOnInit() {\n      this.name = localStorage.getItem('name');\n      if (this.name.length == 0 || this.name == null) {\n        this.canView = false;\n      } else {\n        this.canView = true;\n      }\n      this.route.params.subscribe(params => {\n        this.sn = params['sn'];\n      });\n      this.getToken();\n      this.getInfoDevice();\n    }\n    getToken() {\n      this.http.get('/home/get-token', {}).pipe(catchError(error => {\n        this.status = error.status;\n        if (this.status === 0) {}\n        return throwError(error);\n      })).subscribe(data => {\n        if (data) {\n          this.token = data.token;\n        }\n      });\n    }\n    getInfoDevice() {\n      this.http.get('/home/devices/info-device/' + this.sn, {}).pipe(catchError(error => {\n        this.status = error.status;\n        return throwError(error);\n      })).subscribe(data => {\n        if (data) {\n          this.device = data.data[0];\n          this.equip = this.device[0];\n          this.model_device = this.device[1];\n          let model_string = this.model_device.toLowerCase().replace(/\\s+/g, '');\n          switch (model_string) {\n            default:\n              this.img_url = '';\n              break;\n            case '1908fpt':\n              this.img_url = '/static/assets/images/devices/13803086706.png';\n              break;\n            case 'flatrone2360v-pn':\n              this.img_url = '/static/assets/images/devices/medium0.png';\n              break;\n            case 'soundpointip320sip':\n              this.img_url = '/static/assets/images/devices/91+5tSdU8oL._AC_SL1500_.png';\n              break;\n            case 'soundpointip331':\n              this.img_url = '/static/assets/images/devices/91+5tSdU8oL._AC_SL1500_.png';\n              break;\n            case 'ix4-200d':\n              this.img_url = '/static/assets/images/devices/1_8.png';\n              break;\n            case 'sg300-52':\n              this.img_url = '/static/assets/images/devices/cisco-sg300-52mp-k9-eu-small-business-sg300-52mp-switch-10126213.png';\n              break;\n            case '2007FPb':\n              this.img_url = '/static/assets/images/devices/3282872674_1.png';\n              break;\n            case 'e157fpc':\n              this.img_url = '/static/assets/images/devices/3282872674_1.png';\n              break;\n            case '3580l33/l3h':\n              this.img_url = '/static/assets/images/devices/img_1042.png';\n              break;\n            case 'i5056':\n              this.img_url = '/static/assets/images/devices/152247512_1.png';\n              break;\n            case 'e170sc':\n              this.img_url = '/static/assets/images/devices/monitor_lcd_dell_e170sc_17_polegadas_8617_1_fae8340e93d667349f89992e883b59c2.png';\n              break;\n            case 'syncmastert190':\n              this.img_url = '/static/assets/images/devices/usado_monitor_samsung_syncmaster_19_polegadas_wide_t190_339_1_16c02a2372deadc946cfc58aa9c4b942.png';\n              break;\n            case 'hpl1906':\n              this.img_url = '/static/assets/images/devices/monitor_19_hp_l1906_vga_1280_x_1024px_quadrado_11745_1_1f65dcf7df12237460d02b7b51d372a7.png';\n              break;\n            case 'hpcompaqle1711':\n              this.img_url = '/static/assets/images/devices/c02738428.png';\n              break;\n            case 'hple1711':\n              this.img_url = '/static/assets/images/devices/c02738428.png';\n              break;\n            case 'e178fpc':\n              this.img_url = '/static/assets/images/devices/monitor_dell_e178fpc_17_polegadas_8613_1_46f514f1de0f425b7270b4f6435780a1.png';\n              break;\n            case '740nc(r)':\n              this.img_url = '/static/assets/images/devices/D_NQ_NP_691506-MLB74041561731_012024-O.png';\n              break;\n          }\n          this.brand = this.device[4];\n          this.imob = this.device[3];\n          this.linked = this.device[5];\n          var link = this.linked.replace(/:/g, '-');\n          this.url_linked_device = '/home/computers/view-machine/' + link;\n        }\n      });\n    }\n    modifyDevice() {\n      this.canViewDetails = false;\n      this.canViewModify = true;\n    }\n    getBrand(event) {\n      this.input_brand = event.target.value;\n    }\n    getModel(event) {\n      this.input_model = event.target.value;\n    }\n    closeModify() {\n      this.canViewDetails = true;\n      this.canViewModify = false;\n    }\n    getStatus(event) {\n      this.select_value = event.target.value;\n      switch (this.select_value) {\n        default:\n          this.machines = [];\n          break;\n        case 'None':\n          this.machines = [];\n          break;\n        case 'InUse':\n          this.http.get('/home/devices/get-last-machines', {}).pipe(catchError(error => {\n            this.status = error.status;\n            return throwError(error);\n          })).subscribe(data => {\n            if (data) {\n              this.machines = data.machines;\n              this.machines.forEach(subArray => {\n                this.machines_Names.push(subArray[1]);\n              });\n              this.canViewStatus = true;\n            }\n          });\n          break;\n      }\n    }\n    onRowClick(index) {\n      this.selectedDevice = this.machines[index];\n      this.mac = this.selectedDevice[0];\n      var device = this.sn;\n      this.http.post('/home/computers/added-device', {\n        device: device,\n        computer: this.mac\n      }, {\n        headers: new HttpHeaders({\n          'X-CSRFToken': this.token,\n          'Content-Type': 'application/json'\n        })\n      }).pipe(catchError(error => {\n        this.status = error.status;\n        return throwError(error);\n      })).subscribe(data => {\n        if (data) {\n          this.device = [];\n          this.equip = '';\n          this.model_device = '';\n          this.img_url = '';\n          this.brand = '';\n          this.imob = '';\n          this.canViewDetails = true;\n          this.canViewModify = false;\n          this.getInfoDevice();\n        }\n      });\n    }\n    static #_ = this.ɵfac = function DevicesDetailsComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || DevicesDetailsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.HttpClient));\n    };\n    static #_2 = this.ɵcmp = i0.ɵɵdefineComponent({\n      type: DevicesDetailsComponent,\n      selectors: [[\"app-devices-details\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 9,\n      vars: 5,\n      consts: [[1, \"main\"], [3, \"name\", \"home_class\", \"computers_class\", \"device_class\", 4, \"ngIf\"], [1, \"w-100\", \"d-flex\"], [\"alt\", \"configura\\u00E7\\u00E3o\", 1, \"img-fluid\", \"img_config\", 3, \"click\", \"src\"], [1, \"fw-bold\", \"text-white\", \"text-center\", \"mt-3\", \"mb-3\", \"w-100\"], [\"class\", \"d-flex justify-content-center\", 4, \"ngIf\"], [3, \"name\", \"home_class\", \"computers_class\", \"device_class\"], [1, \"d-flex\", \"justify-content-center\"], [1, \"dash\", \"d-flex\", \"justify-content-evenly\", \"flex-column\"], [1, \"b_margin\"], [3, \"href\"], [\"alt\", \"Foto do Equipamento\", 3, \"src\"], [1, \"position-relative\", \"w-100\"], [\"alt\", \"bot\\u00E3o de fechar\", 1, \"img-fluid\", \"img_close_modify\", 3, \"click\", \"src\"], [1, \"b_margin\", \"mb-3\"], [1, \"form-floating\", \"mb-3\"], [\"type\", \"text\", \"id\", \"floatingBrand\", 1, \"form-control\", 3, \"input\", \"placeholder\"], [\"for\", \"floatingBrand\"], [\"type\", \"text\", \"id\", \"floatingModel\", 1, \"form-control\", 3, \"input\", \"placeholder\"], [\"for\", \"floatingModel\"], [1, \"mb-3\"], [1, \"d-flex\", \"flex-column\", \"mb-3\"], [1, \"form-select\", 3, \"change\"], [\"value\", \"None\", \"selected\", \"\", \"disabled\", \"\"], [\"value\", \"InUse\"], [4, \"ngIf\"], [1, \"form-select\"], [3, \"value\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\", \"value\"]],\n      template: function DevicesDetailsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, DevicesDetailsComponent_app_navbar_1_Template, 1, 4, \"app-navbar\", 1);\n          i0.ɵɵelementStart(2, \"div\")(3, \"div\", 2)(4, \"img\", 3);\n          i0.ɵɵlistener(\"click\", function DevicesDetailsComponent_Template_img_click_4_listener() {\n            return ctx.modifyDevice();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"h3\", 4);\n          i0.ɵɵtext(6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(7, DevicesDetailsComponent_div_7_Template, 35, 8, \"div\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(8, DevicesDetailsComponent_div_8_Template, 37, 7, \"div\", 5);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.canView);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"src\", ctx.img_config, i0.ɵɵsanitizeUrl);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.sn);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.canViewDetails);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.canViewModify);\n        }\n      },\n      dependencies: [UtilitiesModule, i3.NavbarComponent, CommonModule, i4.NgForOf, i4.NgIf, HttpClientModule],\n      styles: [\".main[_ngcontent-%COMP%]{background-color:var(--black)}.b_margin[_ngcontent-%COMP%]{margin-right:1em}.dash[_ngcontent-%COMP%]{background-color:#f4f4f4;padding:1em;border-radius:1em}.img_config[_ngcontent-%COMP%]{width:5em;margin:2em;cursor:pointer;position:absolute}.img_close_modify[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer}\"]\n    });\n  }\n  return DevicesDetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}