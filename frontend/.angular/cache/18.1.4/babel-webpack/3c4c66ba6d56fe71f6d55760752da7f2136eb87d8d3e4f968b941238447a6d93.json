{"ast":null,"code":"import { ElementRef } from '@angular/core';\nimport { UtilitiesModule } from '../../utilities/utilities.module';\nimport { CommonModule, DOCUMENT } from '@angular/common';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { catchError, throwError } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../../utilities/loading/loading.component\";\nimport * as i3 from \"../../utilities/message/message.component\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = [\"logo\"];\nconst _c1 = [\"main\"];\nfunction LoginComponent_app_message_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-message\", 14);\n    i0.ɵɵlistener(\"click\", function LoginComponent_app_message_1_Template_app_message_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeMessage());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"errorType\", ctx_r1.typError)(\"messageError\", ctx_r1.messageError);\n  }\n}\nfunction LoginComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 16)(2, \"input\", 17);\n    i0.ɵɵlistener(\"keyup\", function LoginComponent_div_19_Template_input_keyup_2_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.getUser($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"label\", 18);\n    i0.ɵɵtext(4, \"UserName\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 19)(6, \"input\", 20);\n    i0.ɵɵlistener(\"keyup\", function LoginComponent_div_19_Template_input_keyup_6_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.getPass($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\", 21);\n    i0.ɵɵtext(8, \"Password\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_19_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.loginSubmit());\n    });\n    i0.ɵɵtext(10, \"Entrar\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LoginComponent_app_loading_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading\", 23);\n  }\n}\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(elementRef, http, document) {\n      this.elementRef = elementRef;\n      this.http = http;\n      this.document = document;\n      this.messageError = '';\n      this.name = '';\n      this.pass = '';\n      this.typError = '';\n      this.urlImage = '/static/assets/images/Logo_TechMind.png';\n      this.canShow = false;\n      this.canShowMessage = false;\n    }\n    ngAfterViewInit() {\n      if (this.logo) {\n        this.logo.nativeElement.addEventListener('animationend', () => {\n          const letters = this.elementRef.nativeElement.querySelectorAll('.letter');\n          letters.forEach(letter => {\n            letter.classList.add('animate1');\n          });\n        });\n      }\n      if (this.document) {\n        this.document.addEventListener('keyup', event => {\n          if (event.keyCode === 13) {\n            this.loginSubmit();\n          }\n        });\n      }\n    }\n    closeMessage() {\n      this.canShowMessage = false;\n      this.canShow = false;\n    }\n    getUser(event) {\n      this.name = event.target.value;\n      return this.name;\n    }\n    getPass(event) {\n      this.pass = event.target.value;\n      return this.pass;\n    }\n    loginSubmit() {\n      if (this.name.length > 1 && this.pass.length > 1) {\n        this.canShow = true;\n        this.http.post('/credential/', {\n          username: this.name,\n          password: this.pass\n        }).pipe(catchError(error => {\n          this.status = error.status;\n          if (this.status === 401) {\n            this.typError = 'Erro de Credencial';\n            this.messageError = 'Senha e/ou Usuário inválido';\n          } else if (this.status === 404) {\n            this.typError = 'Erro de Recurso';\n            this.messageError = 'Recurso não encontrado';\n          } else if (this.status === 500) {\n            this.typError = 'Erro de Servidor';\n            this.messageError = 'Erro interno do servidor';\n          } else {\n            this.typError = 'Erro Desconhecido';\n            this.messageError = 'Ocorreu um erro desconhecido';\n          }\n          this.canShowMessage = true;\n          this.canShow = false;\n          return throwError(error);\n        })).subscribe(data => {\n          if (data.name) {\n            localStorage.setItem('name', data.name);\n            window.location.href = '/home';\n          }\n        });\n      }\n    }\n    static #_ = this.ɵfac = function LoginComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || LoginComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(DOCUMENT));\n    };\n    static #_2 = this.ɵcmp = i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"app-login\"]],\n      viewQuery: function LoginComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n          i0.ɵɵviewQuery(_c1, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.logo = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.main = _t.first);\n        }\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 21,\n      vars: 4,\n      consts: [[\"logo\", \"\"], [1, \"main\"], [3, \"errorType\", \"messageError\", \"click\", 4, \"ngIf\"], [\"src\", \"\", \"alt\", \"Logo TechMind\", 1, \"img1\", \"position-absolute\", \"top-0\", \"start-0\", \"animate__animated\", \"animate__zoomInUp\", \"animate__slow\", 3, \"src\"], [1, \"font\", \"position-absolute\", \"top-0\", \"start-0\", \"d-flex\"], [1, \"letter\", \"letter1\"], [1, \"letter\", \"letter2\"], [1, \"letter\", \"letter3\"], [1, \"letter\", \"letter4\"], [1, \"letter\", \"letter5\"], [1, \"letter\", \"letter6\"], [1, \"letter\", \"letter7\"], [\"class\", \"d-flex flex-column justify-content-center position-absolute top-50 start-50 translate-middle\", 4, \"ngIf\"], [\"class\", \"position-absolute top-50 start-50 translate-middle\", 4, \"ngIf\"], [3, \"click\", \"errorType\", \"messageError\"], [1, \"d-flex\", \"flex-column\", \"justify-content-center\", \"position-absolute\", \"top-50\", \"start-50\", \"translate-middle\"], [1, \"form-floating\", \"mb-3\"], [\"type\", \"text\", \"id\", \"floatingInput\", \"placeholder\", \"User\", 1, \"form-control\", 3, \"keyup\"], [\"for\", \"floatingInput\"], [1, \"form-floating\"], [\"type\", \"password\", \"id\", \"floatingPassword\", \"placeholder\", \"Password\", 1, \"form-control\", 3, \"keyup\"], [\"for\", \"floatingPassword\"], [1, \"mt-3\", \"btn\", \"btn-success\", 3, \"click\"], [1, \"position-absolute\", \"top-50\", \"start-50\", \"translate-middle\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 1);\n          i0.ɵɵtemplate(1, LoginComponent_app_message_1_Template, 1, 2, \"app-message\", 2);\n          i0.ɵɵelement(2, \"img\", 3, 0);\n          i0.ɵɵelementStart(4, \"div\", 4)(5, \"p\", 5);\n          i0.ɵɵtext(6, \"e\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"p\", 6);\n          i0.ɵɵtext(8, \"c\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"p\", 7);\n          i0.ɵɵtext(10, \"h\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"p\", 8);\n          i0.ɵɵtext(12, \"M\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"p\", 9);\n          i0.ɵɵtext(14, \"i\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"p\", 10);\n          i0.ɵɵtext(16, \"n\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"p\", 11);\n          i0.ɵɵtext(18, \"d\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(19, LoginComponent_div_19_Template, 11, 0, \"div\", 12)(20, LoginComponent_app_loading_20_Template, 1, 0, \"app-loading\", 13);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.canShowMessage);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"src\", ctx.urlImage, i0.ɵɵsanitizeUrl);\n          i0.ɵɵadvance(17);\n          i0.ɵɵproperty(\"ngIf\", !ctx.canShow);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.canShow);\n        }\n      },\n      dependencies: [UtilitiesModule, i2.LoadingComponent, i3.MessageComponent, CommonModule, i4.NgIf, HttpClientModule],\n      styles: [\".main[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-direction:column;align-items:center;background-color:#14213d}.img1[_ngcontent-%COMP%]{margin:10px;width:100px}.letter[_ngcontent-%COMP%]{color:transparent;font-size:3em;opacity:0;position:relative;margin-top:25px;background-image:linear-gradient(164deg,#e81168 19%,#109be3);-webkit-background-clip:text;background-clip:text;left:0;-webkit-user-select:none;user-select:none}.animate1[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn 1.3s forwards}@keyframes _ngcontent-%COMP%_slideIn{to{left:80px;opacity:1}}.letter1[_ngcontent-%COMP%]{animation-delay:.1s}.letter2[_ngcontent-%COMP%]{animation-delay:.4s}.letter3[_ngcontent-%COMP%]{animation-delay:.6s}.letter4[_ngcontent-%COMP%]{animation-delay:.8s}.letter5[_ngcontent-%COMP%]{animation-delay:1s}.letter6[_ngcontent-%COMP%]{animation-delay:1.2s}.letter7[_ngcontent-%COMP%]{animation-delay:1.4s}.font[_ngcontent-%COMP%]{font-family:Protest Strike,sans-serif;src:url(/static/ProtestStrike-Regular.c0be5dab54a91fce.ttf) format(\\\"Protest Strike\\\")}\"]\n    });\n  }\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}